<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Basic Table </title>

    <!-- Bootstrap CSS -->
    <link href="Bootstrap/bootstrap_admin/css/bootstrap.min.css" rel="stylesheet">
    <!-- bootstrap theme -->
    <link href="Bootstrap/bootstrap_admin/css/bootstrap-theme.css" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link href="Bootstrap/bootstrap_admin/css/elegant-icons-style.css" rel="stylesheet" />
    <link href="Bootstrap/bootstrap_admin/css/font-awesome.min.css" rel="stylesheet" />
    <!-- Custom styles -->
    <link href="Bootstrap/bootstrap_admin/css/style.css" rel="stylesheet">
    <link href="Bootstrap/bootstrap_admin/css/style-responsive.css" rel="stylesheet" />
</head>

<body>
    <!-- container section start -->
    <section id="container" class="">
        <!--header start-->
        <header class="header dark-bg">
            <div class="toggle-nav">
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"><i
                        class="icon_menu"></i></div>
            </div>

            <!--logo start-->
            <a href="/" class="logo">EDU <span class="lite">CENTER</span></a>
            <!--logo end-->



            <div class="top-nav notification-row">
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">

                    <!-- alert notification start-->
                    <li id="alert_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">

                            <i class="icon-bell-l"></i>
                            <span class="badge bg-important">7</span>
                        </a>
                        <ul class="dropdown-menu extended notification">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <!-- <li>
                                <p class="blue">You have 4 new notifications</p>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="label label-primary"><i class="icon_profile"></i></span>
                                    Friend Request
                                    <span class="small italic pull-right">5 mins</span>
                                </a>
                            </li> -->

                        </ul>
                    </li>
                    <!-- alert notification end-->
                    <!-- user login dropdown start-->
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="profile-ava">
                                <img alt="" src="img/avatar1_small.jpg">
                            </span>
                            <span class="username"><%=taiKhoan.tenThanhVien%></span>
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu extended logout">
                            <div class="log-arrow-up"></div>
                            <li class="eborder-top">
                                <a href="/thongtingiaovien"><i class="icon_profile"></i> Thông tin cá nhân</a>
                            </li>
                            <li>
                                <a href="/logoutGV"><i class="icon_key_alt"></i> Đăng xuất</a>
                            </li>
                        </ul>
                    </li>
                    <!-- user login dropdown end -->
                </ul>
                <!-- notificatoin dropdown end-->
            </div>
        </header>
        <!--header end-->
        <!--sidebar start-->
        <aside>
            <div id="sidebar" class="nav-collapse ">
                <!-- sidebar menu start-->
                <ul class="sidebar-menu">

                    <li class="">
                        <a class="" href="/danhsachkhoahoc">
                            <i class="icon_house_alt"></i>
                            <span>Danh sách khóa học</span>
                        </a>
                    </li>
                </ul>
                <!-- sidebar menu end-->
            </div>
        </aside>

        <!--main content start-->
        <section id="main-content">
            <section class="wrapper">
                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="page-header"><i class="fa fa-th"></i>Thêm khóa học</h3>
                    </div>
                </div>
                <!-- page start-->
                <section class="panel">
                    <header class="panel-heading">
                        Thông tin khóa học
                    </header>
                    <div class="panel-body">
                        <div class="form">
                            <form class="form-validate form-horizontal" id="form_register" method="POST"
                                action="/themkhoahocform" encType="multipart/form-data">
                                <div class="form-group ">
                                    <label for="cname" class="control-label col-lg-2">Tựa khóa học </label>
                                    <div class="col-lg-10">
                                        <input class="form-control" id="tuakhoahoc" name="tuakhoahoc" minlength="5"
                                            type="text"  />
                                            <span id="tuakhoahoc_err"></span>
                                        </div>
                                </div>
                                <div class="form-group ">
                                    <label for="cname" class="control-label col-lg-2">Ảnh đại diện </label>
                                    <div class="col-lg-2">
                                        <input type="file" id="anhdaidien" name="anhdaidien">
                                    </div>
                                    <div class="col-lg-8">
            
                                        <span ><img id="image_upload_preview"  width="60" height="60"></span>
                                        <span id="anhdaidien_err"></span>
                                    </div>
                                </div>
                                <div class="form-group ">
                                    <label for="cname" class="control-label col-lg-2">Danh muc </label>
                                    <div class="col-lg-10">
                                        <select class="form-control" name="danhMuc">
                                            <option value="toan">Toán</option>
                                            <option value="lich_su">Lịch sử</option>
                                            <option value="dia_li">Địa lí</option>
                                            <option value="hoa_hoc">Hóa học</option>
                                            <option value="van_hoc">Văn học</option>
                                            <option value="gdcd">Giáo dục công dân</option>
                                            <option value="sinh_hoc">Sinh học</option>
                                            <option value="anh_van">Anh văn</option>
                                            <option value="tin_hoc">Tin học</option>
                                        </select>
                                        <br>
                                    </div>

                                    <div class="form-group ">
                                        <label for="curl" class="control-label col-lg-2">Giá khóa học</label>
                                        <div class="col-lg-10">
                                            <input class="form-control " id="giakhoahoc" type="number" name="giakhoahoc" />
                                            <span id="giakhoahoc_err"></span>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="ccomment" class="control-label col-lg-2">Mô tả</label>
                                        <div class="col-lg-10">
                                            <textarea class="form-control " id="mota" name="mota"
                                               ></textarea>
                                                <span id="mota_err"></span>
                                        </div>
                                    </div>

                                    <div class="input_fields_wrap"
                                        style="border: 1px solid bisque;box-shadow:2px 1px 2px 3px #888888; margin-bottom: 50px;">
                                        
                                        <button style="margin-bottom: 20px;" type="button"
                                            class="add_field_button btn btn-primary">Thêm
                                            bài học</button>
                                        <button style="margin-bottom: 20px;" type="button"
                                            class="delete_button btn btn-primary">Xóa</button>
                                            <span id="soluong_err"></span>
                                        <div><input style="display: none;" type="text" name="tenbaihoc"></div>
                                    </div>
                                    <div class="row">


                                        <div class="form-group">
                                            <div class="col-lg-offset-10 col-lg-2">
                                                <input class="btn btn-primary" type="submit"value="Lưu" />
                                                <a href="/huy"><button type="button" class="btn btn-success">Hủy</button></a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- page end-->

                            </form>
                        </div>

                    </div>
                </section>

            </section>
        </section>
    </section>
    <!-- container section end -->
    <!-- javascripts -->
    <script src="Bootstrap/bootstrap_admin/js/jquery.js"></script>
    <script src="Bootstrap/bootstrap_admin/js/bootstrap.min.js"></script>
    <!-- nicescroll -->
    <script src="Bootstrap/bootstrap_admin/js/jquery.scrollTo.min.js"></script>
    <script src="Bootstrap/bootstrap_admin/js/jquery.nicescroll.js" type="text/javascript"></script>
    <!--custome script for all page-->
    <script src="Bootstrap/bootstrap_admin/js/scripts.js"></script>

    <script src="javascripts/jquery.dynamicTable-1.0.0.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=" crossorigin="anonymous"></script>
    <script>

        $(document).ready(function () {
            var max_fields = 100; //maximum input boxes allowed
            var wrapper = $(".input_fields_wrap"); //Fields wrapper
            var add_button = $(".add_field_button"); //Add button ID
            var delete_button = $(".delete_button");
            var x = 1; //initlal text box count

            $(add_button).click(function (e) { //on add input button click
                e.preventDefault();
                if (x < max_fields) { //max input box allowed
                    x++; //text box increment
                    //Nếu load gì load trên này .
                    $(wrapper).append('<div id="div' + String(x) + '" style="margin-bottom:15px;"> <input style="border: 1px solid black;" type="text"  required="true" name="tenBaiHoc' + (x - 1).toString(10) + '" placeholder="Tên bài học."/> <input style="border: 1px solid black;" type="text" name="moTa' + (x - 1).toString(10) + '" placeholder="Mô tả bài học."/>  <input type="file" class="form-control" name="url' + (x - 1).toString(10) + '" placeholder="Chọn file." required="true" ></div>'); //add input box
                }
            });
            $(delete_button).click(function (event) {
                event.preventDefault();
                if (x > 0) {
                    console.log(x);
                    $('#div' + String(x)).remove();
                    x--;
                }
            });
            $('#form_register').submit(function () {

                // BƯỚC 1: Lấy dữ liệu từ form
                var tuakhoahoc = $.trim($('#tuakhoahoc').val());
                var giakhoahoc = $.trim($('#giakhoahoc').val());
                var mota = $.trim($('#mota').val());
                var anhdaidien = $.trim($('#anhdaidien').val());

                // BƯỚC 2: Validate dữ liệu
                // Biến cờ hiệu
                var flag = true;

                // Username
                if (tuakhoahoc == '' ){
                    $('#tuakhoahoc_err').text('Tựa khóa học không được rỗng');
                    flag = false;
                }
                else {
                    $('#tuakhoahoc_err').text('');
                }
                if (giakhoahoc == '') {
                    $('#giakhoahoc_err').text('Nhập giá khóa học');
                    flag = false;
                }
                else {
                    $('#giakhoahoc_err').text('');
                }
                if (mota == '') {
                    $('#mota_err').text('Nhập mô tả');
                    flag = false;
                }
                else {
                    $('#mota_err').text('');
                }
                if (anhdaidien == '') {
                    $('#anhdaidien_err').text('Chọn ảnh đại diện');
                    flag = false;
                }
                else {
                    $('#anhdaidien_err').text('');
                }
                if (x  < 2) {
                    $('#soluong_err').text('Khóa học phải có ít nhất 2 bài học');
                    flag = false;
                }
                else {
                    $('#spluong_err').text('');
                }
                return flag;
            });
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#image_upload_preview').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }
            $("#anhdaidien").change(function () {
                var fileExtension = ['jpeg', 'jpg', 'png'];
                if ($.inArray($(this).val().split('.').pop().toLowerCase(), fileExtension) == -1) {
                    $('#anhdaidien_err').text('Ảnh đại diện phải là jpeg, jpg, png');
                }
            });
            $("#anhdaidien").change(function () {
                readURL(this);
            });
        });
    </script>


</body>

</html>